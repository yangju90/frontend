<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>历史协议数据列表</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <meta name="description" content="">
    <meta name="keywords" content="">
    <script src="https://cdn.bootcss.com/jquery/2.1.2/jquery.min.js"></script>
    <script src="https://img.huiyiguanjia.com/CDNFile/layer/layer-v3.1.1/layer/layer.js"></script>
</head>

<body onload="lala()">
    <div class="main" style="text-align:center">
        <table id="table" border="1" style="width: 80%;margin:auto">
            <tr>
                <th scope="col">姓名</th>
                <th scope="col">邮箱</th>
                <th scope="col">协议名称</th>
                <th scope="col">协议ID</th>
                <th scope="col">状态</th>
                <th scope="col">公司</th>
                <th scope="col">协议密码</th>
            </tr>
        </table>
    </div>
</body>

</html>

<script type="text/javascript">
    function lala() {
        $.ajax({
            type: "get",
            url: "http://localhost:8080/agreement/status/all",
            dataType: "json",
            error: function (data) {
                alert("连接超时");
            },
            success: function (data) {
                console.log(data)
                var dataResult = data
                for (var i = 0; i < dataResult.length; i++) {
                    $("#table").append("<tr><td class='row'>" + dataResult[i].name +
                        "</td><td class='row'>" + dataResult[i].email +
                        "</td><td class='row'>" + dataResult[i].agreementName +
                        "</td><td class='row'><a href='http://localhost:8080/agreement/download/" + dataResult[i].agreementId + "' target='_blank'>" + dataResult[i].agreementId + "</a>" +
                        "</td><td class='row'>" + dataResult[i].status +
                        "</td><td class='row'>" + dataResult[i].company +
                        "</td><td class='row'>" + dataResult[i].agreementPwd +
                        "</td><tr>")

                };

            }

        });
    }
</script>

<style type="text/css">
    body {
        font: normal 11px auto "Trebuchet MS", Verdana, Arial, Helvetica, sans-serif;
        color: #4f6b72;
        background: #E6EAE9;
    }

    a {
        color: #c75f3e;
    }

    #mytable {
        width: 700px;
        padding: 0;
        margin: 0;
    }

    caption {
        padding: 0 0 5px 0;
        width: 700px;
        font: italic 11px "Trebuchet MS", Verdana, Arial, Helvetica, sans-serif;
        text-align: right;
    }

    th {
        font: bold 11px "Trebuchet MS", Verdana, Arial, Helvetica, sans-serif;
        color: #4f6b72;
        border-right: 1px solid #C1DAD7;
        border-bottom: 1px solid #C1DAD7;
        border-top: 1px solid #C1DAD7;
        letter-spacing: 2px;
        text-transform: uppercase;
        text-align: left;
        padding: 6px 6px 6px 12px;
        background: #CAE8EA no-repeat;
    }

    th.nobg {
        border-top: 0;
        border-left: 0;
        border-right: 1px solid #C1DAD7;
        background: none;
    }

    td {
        border-right: 1px solid #C1DAD7;
        border-bottom: 1px solid #C1DAD7;
        background: #fff;
        font-size: 11px;
        padding: 6px 6px 6px 12px;
        color: #4f6b72;
    }


    td.alt {
        background: #F5FAFA;
        color: #797268;
    }

    th.spec {
        border-left: 1px solid #C1DAD7;
        border-top: 0;
        background: #fff no-repeat;
        font: bold 10px "Trebuchet MS", Verdana, Arial, Helvetica, sans-serif;
    }

    th.specalt {
        border-left: 1px solid #C1DAD7;
        border-top: 0;
        background: #f5fafa no-repeat;
        font: bold 10px "Trebuchet MS", Verdana, Arial, Helvetica, sans-serif;
        color: #797268;
    }

    /*---------for IE 5.x bug*/
    html>body td {
        font-size: 11px;
    }

    body,
    td,
    th {
        font-family: 宋体, Arial;
        font-size: 12px;
    }
</style>